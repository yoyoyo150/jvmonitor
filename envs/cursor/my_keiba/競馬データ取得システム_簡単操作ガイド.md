# 🏇 競馬データ取得システム 簡単操作ガイド

## 🎯 このシステムでできること
- JRA-VANから競馬データを自動取得
- レース情報、馬情報、オッズ情報をデータベースに保存
- 取得したデータを分析・表示

---

## 📁 重要なファイルの場所

### 🗄️ メインデータベース
```
C:\my_project_folder\envs\cursor\my_keiba\JVLinkToSQLite-0.1.2\JVLinkToSQLiteArtifact\race.db
```
**これが全てのデータが保存される中心のデータベースです**

### ⚙️ データ取得プログラム
```
C:\my_project_folder\envs\cursor\my_keiba\JVLinkToSQLite-0.1.2\JVLinkToSQLiteArtifact\JVLinkToSQLite.exe
```
**これがデータを取得するメインプログラムです**

---

## 🚀 簡単な使い方（3ステップ）

### ステップ1: 初回セットアップ（1回だけ実行）
```bash
# コマンドプロンプトで以下を実行
cd "C:\my_project_folder\envs\cursor\my_keiba\JVLinkToSQLite-0.1.2\JVLinkToSQLiteArtifact"
JVLinkToSQLite.exe -m exec -s "C:\my_project_folder\envs\cursor\my_keiba\setup.xml" -d "race.db"
```
**実行時間**: 約30分（初回のみ）

### ステップ2: 最新データ取得（開催日ごと）
```bash
# コマンドプロンプトで以下を実行
cd "C:\my_project_folder\envs\cursor\my_keiba\JVLinkToSQLite-0.1.2\JVLinkToSQLiteArtifact"
JVLinkToSQLite.exe -m exec -s "C:\my_project_folder\envs\cursor\my_keiba\diff.xml" -d "race.db"
```
**実行時間**: 約3-5秒

### ステップ3: データ確認
```bash
# Pythonでデータを確認
cd "C:\my_project_folder\envs\cursor\my_keiba"
python check_main_db_status.py
```

---

## 📊 取得できるデータの種類

| データ種類 | 内容 | 例 |
|------------|------|-----|
| **レース情報** | レース名、距離、コース条件 | 東京競馬場 第1R 1600m 芝 |
| **馬情報** | 馬名、騎手、調教師、馬主 | サンプル馬、武豊騎手 |
| **結果情報** | 着順、タイム、オッズ | 1着、1分35秒2、3.2倍 |
| **オッズ情報** | 単勝、複勝、馬連、馬単 | 単勝3.2倍、馬連12.5倍 |

---

## 🔧 トラブルシューティング

### ❌ 「該当データがありません」と表示される
**→ これは正常です！** 新しいデータがない場合の表示です。

### ❌ エラーが発生する場合
1. **ファイルの場所を確認**
   - `race.db` が正しい場所にあるか
   - `JVLinkToSQLite.exe` が正しい場所にあるか

2. **実行順序を確認**
   - 必ず「セットアップ → 差分取得」の順で実行

3. **ログを確認**
   - エラーの詳細は実行ログに記録されます

---

## 📈 実際のデータ例

### 取得済みデータ（2025年9月7日）
```
🏁 レース情報:
01R01 旭川競馬場 第1R 1500m 芝
01R02 旭川競馬場 第2R 2000m 芝
...

🐎 馬情報:
01R01 01番 ミアエッテ 1歳02 柴田裕一騎手 520kg 2着
01R01 02番 ショウサンカナヲ 2歳02 松本大輝騎手 540kg 8着
...
```

---

## 💡 よくある質問

### Q: どのくらいの期間のデータが取得できますか？
A: 2021年から現在まで、約4年分のデータが取得可能です。

### Q: データベースのサイズはどのくらいですか？
A: 約6.2GB（2025年9月時点）

### Q: 取得はどのくらいの頻度で行えばよいですか？
A: 開催日ごとに1回、差分取得を実行すれば十分です。

### Q: 古いデータは削除されますか？
A: いいえ、データは蓄積され続けます。

---

## 🎯 次のステップ

1. **データ分析**: 取得したデータを使って予想分析
2. **自動化**: バッチファイルで自動実行設定
3. **表示アプリ**: JVMonitorでデータを視覚的に表示

---

**最終更新**: 2025年9月13日  
**作成者**: 競馬データ取得システム開発チーム
